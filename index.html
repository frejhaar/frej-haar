<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Frej Haar</title>
        <link rel="stylesheet" href="style.css" type="text/css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/showdown/1.8.6/showdown.min.js"> </script>

    </head>
    <body>
        <div id="header">
            <img alt="Frej Haar" src="frej.png" draggable="false" />
        </div>

        <div id="menu">
            <table>
                <thead>
                    <tr>
                        <td id="home">hem</td>
                        <td>om</td>
                        <td>poesi</td>
                        <td>kontakt</td>
                    </tr>
                </thead>
            </table>
        </div>

        <div id="content">

        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
        <script>
         var converter = new showdown.Converter();
         var pages = {};
         var base_title;

         $(document).ready(function() {
             base_title = document.title;
             var homebutton = document.getElementById('home');
             setPage('hem', homebutton);
         });

         function setPage(page,button) {
             if (!pages[page]) {
                 $.get(page+".md", function(res) {
                     pages[page] = converter.makeHtml(res);
                     $("#menu table td").removeClass('active');
                     $(button).addClass('active');
                     $('#content').html(pages[page]);
                     document.title = base_title + " - " + page;
                 });
             } else {
                 $("#menu table td").removeClass('active');
                 $(button).addClass('active');
                 $('#content').html(pages[page]);
                 document.title = base_title + " - " + page;
             }
         }

         $("#menu table td").click(function (e) {
             setPage(e.currentTarget.innerText, e.currentTarget);
         });
        </script>
    </body>
</html>
